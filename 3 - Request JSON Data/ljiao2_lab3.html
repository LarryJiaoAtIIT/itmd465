<html>
	<head>
		<title>ITMD465 - Lab 3</title>
		<link rel="stylesheet" type="text/css" href="https://meyerweb.com/eric/tools/css/reset/reset.css">
		<style>
		body {
			background-color: #ccc;
			font-family: sans-serif;
		}
		#content{
			margin-top: 2em;
			padding:1em;
			border-radius:1em;
			background-color:white;
			margin-left:5%;
			max-width:85%;
			width:30em;
		}		
		#grabby{
			position:relative;
			margin-top:1em;
			padding:1em;
			border-radius:1em;
			background-color:white;
			margin-left:5%;
			width: auto;
			max-width:85%;
			height:auto;
		
		}
		#info{
			border: 0.2em solid black;
			margin-left: 1em;
		}
		.intro{
			font-family:arial;
			font-size:1.2em;
			font-weight:600;
			margin-top:0.5em;
			margin-bottom:0.5em;
		}
		</style>
	</head>
	<body>
	
		<div id="content">
			<h1 class="intro">ITMD465 - Lab 3</h1>
			<h1 class="intro">Larry Jiao - ljiao2@hawk.iit.edu</h1>
			<button id="load">Display Data</button>
			<button id="reset">Reset</button>
		</div>
		
		<div id="grabby">
		</div>
	<script>
		var pullData = document.getElementById("load").addEventListener('click',parseData);
		var reset = document.getElementById("reset");
		var dataURL= "http://libertyville.rice.iit.edu/scripts/4565_lab3.php";
		
		
		var getData = new XMLHttpRequest();
		getData.addEventListener('load',parseData);
		getData.open('GET', dataURL);
		getData.send();
		
		function parseData(getEvent){
			var myArray= JSON.parse(getEvent.target.responseText);
			var output="";

			for(i in myArray){
			output+= '<tr><td>' + myArray[i].id + '</td><td>' + myArray[i].gender + '</td><td>' + myArray[i].first_name + '</td><td>' + myArray[i].last_name + '</td><td>' + myArray[i].email + '</td><td>' + myArray[i].active + '</td><td>' + myArray[i].title + '</td></tr>';
			}
			output +="</table>";
			document.getElementById("grabby").innerHTML ="<table border='1' width=\"100%\" font-weight: 600><tr><td>ID</td><td>Gender</td><td>First Name</td><td>Last Name</td><td>E-Mail</td><td>Active</td><td>Title</td>" + output;
		}
		
	

	</script>
	</body>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</html>